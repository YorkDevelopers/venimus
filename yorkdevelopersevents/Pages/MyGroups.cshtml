@page
@model YorkDeveloperEvents.Pages.MyGroupsModel
@{
    ViewData["Title"] = "My Groups";
}

<div class="text-center">
    <h1 class="display-4">You belong to the following groups</h1>
    <br />
    <table>
        @foreach (var item in Model.ViewModel)
        {
            <tr>
                <td><img class="groupLogo" src="@item.Logo" /></td>
                <td><markdown>@item.Description</markdown></td>
            </tr>
            <tr>
                <td>@item.Name</td>
            </tr>
            <tr>
                <td>&nbsp;</td>
                <td>
                    <form action="/LeaveGroup" method="post">
                        @Html.AntiForgeryToken()
                        <input type="hidden" id="groupSlug" name="groupSlug" value="@item.Slug" />
                        <button type="submit">Leave Group</button>
                    </form>
                    @if (item.CanViewMembers)
                    {
                        <a href="/ViewGroupMembers?groupSlug=@item.Slug">View Members</a>
                    }
                </td>
            </tr>
            <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
            </tr>
        }
    </table>
</div>

